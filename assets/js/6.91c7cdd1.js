(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{270:function(e,o,n){"use strict";n.r(o);var t=n(38),a=Object(t.a)({},function(){var e=this,o=e.$createElement,n=e._self._c||o;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"_01-room"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_01-room","aria-hidden":"true"}},[e._v("#")]),e._v(" 01: Room")]),e._v(" "),n("p",[e._v("Start with the default scene from 00.  Plus model, sound.  Maybe use playground")]),e._v(" "),n("p",[e._v("Add a door")]),e._v(" "),n("p",[e._v("After "),n("code",[e._v("engine.addEntity(baseScene)")]),e._v("...")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('//create door entity\nlet door = new Entity();\n//add door entity to engine\nengine.addEntity(door);\n\n//add gltf shape\ndoor.addComponent(new GLTFShape("models/generic/door.glb"));\n\n//add transform and set it in position\ndoor.addComponent(new Transform({ position: new Vector3(6.58, 0, 7.85) }));\n')])])]),n("p",[e._v("Open the door")]),e._v(" "),n("p",[e._v("After "),n("code",[e._v("door.addComponent(new Transform({ position: new Vector3(6.58, 0, 7.85) }));")]),e._v("...")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('//variable to store if door is open\nlet isDoorOpen = false;\n\n//create animator and add animation clips\nlet doorAnimator = new Animator();\ndoorAnimator.addClip(new AnimationState("Open", { looping: false }));\ndoor.addComponent(doorAnimator);\n\n//listen to onclick event to toggle door state\ndoor.addComponent(\n  new OnClick((): void => {\n    if (!isDoorOpen) {\n      isDoorOpen = true;\n      doorAnimator.getClip("Open").play();\n    }\n  })\n);\n\n')])])]),n("p",[e._v("Play a sound effect")]),e._v(" "),n("p",[e._v("Add the an audio component and then play on click")]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('//create audio source component, set audio clip and add it to door entity\ndoor.addComponent(new AudioSource(new AudioClip("sounds/door_squeak.mp3")));\n\n//listen to onclick event to toggle door state\ndoor.addComponent(\n  new OnClick((): void => {\n    if (!isDoorOpen) {\n      isDoorOpen = true;\n      doorAnimator.getClip("Open").play(); // <- insert this line\n      door.getComponent(AudioSource).playOnce();\n    }\n  })\n);\n')])])]),n("h2",{attrs:{id:"refactor"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#refactor","aria-hidden":"true"}},[e._v("#")]),e._v(" Refactor")]),e._v(" "),n("p",[e._v("Separate the game into seperate scene files.")]),e._v(" "),n("h2",{attrs:{id:"challenge-to-the-reader"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#challenge-to-the-reader","aria-hidden":"true"}},[e._v("#")]),e._v(" Challenge to the reader")]),e._v(" "),n("p",[e._v("The model also includes a "),n("code",[e._v("close")]),e._v(" animation.  Add this to the Door GameObject and update the click behavior to toggle the door open/closed on click (instead of just open and then stay open).")])])},[],!1,null,null,null);o.default=a.exports}}]);